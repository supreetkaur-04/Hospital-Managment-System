{% extends 'hospital/admin_base.html' %}
{% block content %}

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --primary-medical: #2A5C82;
      --secondary-medical: #1A3A4B;
      --accent-emergency: #D32F2F;
      --accent-success: #4CAF50;
    }

    .approval-container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 15px;
    }

    .approval-card {
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    }

    .card-header {
      background: var(--primary-medical);
      color: white;
      font-weight: 600;
      border-radius: 12px 12px 0 0;
      padding: 1.5rem;
      font-size: 1.25rem;
    }

    .table {
      margin-bottom: 0;
    }

    .table thead th {
      background: var(--secondary-medical);
      color: white;
      border-bottom: 2px solid var(--primary-medical);
    }

    .table-hover tbody tr:hover {
      background-color: rgba(42, 92, 130, 0.05);
    }

    .action-buttons .btn {
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .btn-approve {
      background: var(--accent-success);
      color: white;
    }

    .btn-reject {
      background: var(--accent-emergency);
      color: white;
    }

    .btn-approve:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
    }

    .btn-reject:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(211, 47, 47, 0.3);
    }
  </style>
</head>

<div class="approval-container">
  <div class="approval-card">
    <div class="card-header">
      Pending Appointment Approvals
      <span class="badge bg-light text-dark ms-2">{{ appointments|length }}</span>
    </div>
    <div class="table-responsive">
      <table class="table table-hover align-middle">
        <thead>
          <tr>
            <th>Doctor</th>
            <th>Patient</th>
            <th>Description</th>
            <th>Date</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for a in appointments %}
          <tr>
            <td>{{ a.doctorName }}</td>
            <td>{{ a.patientName }}</td>
            <td>{{ a.description }}</td>
            <td>{{ a.appointmentDate }}</td>
            <td class="action-buttons text-center">
              <a href="{% url 'approve-appointment' a.id %}" class="btn btn-approve me-2">
                <i class="fas fa-check-circle me-1"></i>Approve
              </a>
              <a href="{% url 'reject-appointment' a.id %}" class="btn btn-reject">
                <i class="fas fa-times-circle me-1"></i>Reject
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock content %}